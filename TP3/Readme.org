* NoSQL REST Notes
Participants: David Tabarie, Victor Goncalves

** Architecture de l'application
Notre application est écrite en python3 avec le framework Flask.

La  première étape est de créer un objet permettant la connexion à la base Redis:

#+BEGIN_SRC python
r = redis.Redis(
    host='localhost',
    port=6379,
    password='')
#+END_SRC

Voici une descriptions des fonctions:
| fonction   | action                                        |
|------------+-----------------------------------------------|
| index      | redirige l'utilisateur sur la liste des notes |
| get_all    | retourne toutes les notes                     |
| new_note   | créé une note                                 |
| get_note   | retourne la note correspondante               |
| delete_all | supprime toutes les notes                     |


Note: nous n'avons pas implémenté la suppression unitaire de note car
nous avons utilisés une liste, il faudrait donc revoir le code pour
utiliser des hash.

*** HTTP Requests
Voici la liste des requêtes http que nous utilisons, ainsi que leur méthodes associées

| HTTP Method | URI                                  | Action                                  |
|-------------+--------------------------------------+-----------------------------------------|
| GET         | http://localhost:8080                | Redirect to http://localhost:8080/notes |
| GET         | http://localhost:8080/notes          | Retrieve all notes                      |
| POST        | http://localhost:8080/notes          | Create a note                           |
| GET         | http://localhost:8080/notes/{idnote} | Retrieve note by id                     |
| DELETE      | http://localhost:8080/notes/{idnote} | Delete note by id                       |


** Utilisation

*** Installation
Avec pip3:
#+BEGIN_SRC bash
pip install -r requirements.txt
#+END_SRC

*** Exemples d'utilisation
- Récupérer la liste des notes disponibles (par id):
#+BEGIN_SRC bash
curl 127.0.0.1:8080/notes/
#+END_SRC

- Créer une note:
#+BEGIN_SRC bash
curl -H "Content-Type:text/plain" --data 'Penser au pain' 127.0.0.1:8080/notes/
#+END_SRC

- Lire une note:
#+BEGIN_SRC bash
curl http://localhost:8080/notes/{idnote}
#+END_SRC
